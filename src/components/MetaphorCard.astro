---
import type { MetaphorWithVotes } from '../lib/types'

interface Props {
  metaphor: MetaphorWithVotes
}

const { metaphor } = Astro.props
---

<article
  class="rounded-xl p-7 sm:p-8 hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300"
  style="background-color: var(--color-bg-card); border: 1.5px solid var(--color-border);"
  onmouseover="this.style.borderColor='var(--color-border-hover)'"
  onmouseout="this.style.borderColor='var(--color-border)'"
>
  <a href={`/metafora/${metaphor.slug}`} class="group block">
    <h2
      class="text-2xl sm:text-3xl font-semibold mb-4 group-hover:opacity-70 transition-opacity leading-tight"
      style="color: var(--color-text-primary);"
    >
      {metaphor.nazev}
    </h2>
    <p class="mb-3 leading-relaxed text-base sm:text-lg" style="color: var(--color-text-secondary);">
      {metaphor.definice}
    </p>
    <p class="italic text-sm mb-3 leading-relaxed" style="color: var(--color-text-tertiary);">
      <span class="font-medium">P≈ô√≠klad:</span> {metaphor.priklad}
    </p>
    {metaphor.zdroj && (
      <p class="text-xs mb-5 opacity-60" style="color: var(--color-text-tertiary);">
        Zdroj: {metaphor.zdroj}
      </p>
    )}
    <div class="flex items-center gap-6 text-sm font-medium pt-4" style="border-top: 1px solid var(--color-border);">
      <span class="flex items-center gap-2" style="color: var(--color-positive);">
        <span class="text-base">üëç</span>
        <span>{metaphor.like_count}</span>
      </span>
      <span class="flex items-center gap-2" style="color: var(--color-negative);">
        <span class="text-base">üëé</span>
        <span>{metaphor.dislike_count}</span>
      </span>
      <span class="ml-auto font-semibold" style="color: var(--color-accent-primary);">
        Sk√≥re: {metaphor.score}
      </span>
    </div>
  </a>
</article>
